Seté›†åˆç‰¹ç‚¹
 ä¸åŒ…å«é‡å¤å…ƒç´ çš„é›†åˆ
 æ²¡æœ‰å¸¦ç´¢å¼•çš„æ–¹æ³•---ç”¨ä¸äº†æ™®é€šforå¾ªç¯ï¼ˆfor iå¾ªç¯ï¼‰--å¯ä»¥ä½¿ç”¨è¿­ä»£å™¨å’Œfor each

HashSetï¼šå¯¹é›†åˆçš„è¿­ä»£é¡ºåºä¸ä½œä»»ä½•ä¿è¯

--------------------------------
å“ˆå¸Œå€¼ï¼šJDKæ ¹æ®å¯¹è±¡çš„åœ°å€æˆ–è€…å­—ç¬¦ä¸²æˆ–è€…æ•°å­—ç®—å‡ºæ¥çš„ intç±»å‹çš„æ•°å€¼
Objectç±»è·å–å¯¹è±¡çš„å“ˆå¸Œå€¼æ–¹æ³•
public int hashCode() :  è¿”å›å¯¹è±¡å“ˆå¸Œå€¼

ç‰¹ç‚¹ï¼š
1ã€åŒä¸€ä¸ªå¯¹è±¡è°ƒç”¨hashCode()ï¼Œè¿”å›çš„å“ˆå¸Œå€¼ç›¸åŒ
2ã€é»˜è®¤æƒ…å†µï¼Œä¸åŒå¯¹è±¡çš„å“ˆå¸Œå€¼ä¸åŒï¼›
  override hashCode()æ–¹æ³•ï¼Œå¯ä»¥å®ç°è®©ä¸åŒå¯¹è±¡çš„å“ˆå¸Œå€¼ç›¸åŒ

å“ˆå¸Œå€¼æœ‰èŒƒå›´ï¼Œè¶…å‡ºèŒƒå›´å°±åªèƒ½é‡å¤ä½¿ç”¨
æ¯”å¦‚ï¼š"é‡åœ°"å’Œ"é€šè¯"ä¸¤è€…å“ˆå¸Œå€¼ä¸€æ ·

--------------------------------
HashSeté›†åˆå­˜å‚¨å…ƒç´ ----ä¿è¯å…ƒç´ çš„å”¯ä¸€æ€§ï¼Œéœ€è¦é‡å†™hashCode()å’Œequals()
 //è¦é‡å†™hashCode()æ–¹æ³•--command+N+I--equals() and hashCode()--ä¿è¯å†…å®¹ç›¸åŒçš„ä¸å†å‡ºç°




æºç åˆ†æ

***hs.add("hello");***

//eæ˜¯"hello"
public boolean add(E e) {
    return map.put(e, PRESENT)==null;
}

ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½
static final int hash(Object key) {
    int h;
    return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);
}
ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½
public V put(K key, V value) {
    return putVal(hash(key), key, value, false, true);
}

ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½
//hashå€¼å’Œå…ƒç´ çš„hashCode()æ–¹æ³•ç›¸å…³
final V putVal(int hash, K key, V value, boolean onlyIfAbsent,
               boolean evict) {
    Node<K,V>[] tab; Node<K,V> p; int n, i;

    //å¦‚æœå“ˆå¸Œè¡¨æœªåˆå§‹åŒ–ï¼Œå°±å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–
    if ((tab = table) == null || (n = tab.length) == 0)
        n = (tab = resize()).length;

    //æ ¹æ®å¯¹è±¡çš„å“ˆå¸Œå€¼è®¡ç®—å¯¹è±¡çš„å­˜å‚¨ä½ç½®ï¼Œå¦‚æœè¯¥ä½ç½®æ²¡æœ‰å…ƒç´ ï¼Œå°±å­˜å‚¨å…ƒç´ --newNode()
    if ((p = tab[i = (n - 1) & hash]) == null)
        tab[i] = newNode(hash, key, value, null);
    else {
        Node<K,V> e; K k;

        /*
        å­˜å…¥å…ƒç´ å’Œä»¥å‰çš„å…ƒç´ æ¯”è¾ƒå“ˆå¸Œå€¼
        å¦‚æœå“ˆå¸Œå€¼ä¸åŒï¼Œä¼šç»§ç»­å‘ä¸‹æ‰§è¡Œï¼ŒæŠŠå…ƒç´ æ·»åŠ åˆ°é›†åˆ
        å¦‚æœå“ˆå¸Œå€¼ç›¸åŒï¼Œä¼šè°ƒç”¨å¯¹è±¡çš„equals()æ–¹æ³•æ¯”è¾ƒå†…å®¹
          å¦‚æœè¿”å›falseï¼Œä¼šç»§ç»­å‘ä¸‹æ‰§è¡Œï¼ŒæŠŠå…ƒç´ æ·»åŠ åˆ°é›†åˆ
          å¦‚æœè¿”å›trueï¼Œè¯´æ˜å…ƒç´ é‡å¤ï¼Œä¸å­˜å‚¨
        */
        if (p.hash == hash &&
            ((k = p.key) == key || (key != null && key.equals(k))))
            e = p;
        else if (p instanceof TreeNode)
            e = ((TreeNode<K,V>)p).putTreeVal(this, tab, hash, key, value);
        else {
            for (int binCount = 0; ; ++binCount) {
                if ((e = p.next) == null) {
                    p.next = newNode(hash, key, value, null);
                    if (binCount >= TREEIFY_THRESHOLD - 1) // -1 for 1st
                        treeifyBin(tab, hash);
                    break;
                }
                if (e.hash == hash &&
                    ((k = e.key) == key || (key != null && key.equals(k))))
                    break;
                p = e;
            }
        }
        if (e != null) { // existing mapping for key
            V oldValue = e.value;
            if (!onlyIfAbsent || oldValue == null)
                e.value = value;
            afterNodeAccess(e);
            return oldValue;
        }
    }


--------------------------------
LinkedHashSeté›†åˆç‰¹ç‚¹
1ã€å“ˆå¸Œè¡¨å’Œé“¾è¡¨å®ç°Setæ¥å£---å¯é¢„æµ‹çš„è¿­ä»£æ¬¡åº
2ã€ç”±é“¾è¡¨ä¿è¯å…ƒç´ æœ‰åº---å…ƒç´ çš„å–å‡ºå’Œå­˜å‚¨é¡ºåºä¸€è‡´
3ã€ç”±å“ˆå¸Œè¡¨ä¿è¯å…ƒç´ å”¯ä¸€---æ²¡æœ‰é‡å¤å…ƒç´ 

--------------------------------
TreeSet
å¯ä»¥æŒ‰ç…§æŒ‡å®šè§„åˆ™å¯¹å…ƒç´ è¿›è¡Œæ’åº
é›†åˆç‰¹ç‚¹ï¼š
  å…ƒç´ æœ‰åº--ä¸æ˜¯å­˜å‚¨å’Œå–å‡ºçš„é¡ºåº--æ˜¯æŒ‰ç…§ä¸€å®šè§„åˆ™è¿›è¡Œå…·ä½“æ’åº--å–å†³äºæ„é€ æ–¹æ³•
  TreeSet():æ ¹æ®å…¶å…ƒç´ çš„è‡ªç„¶æ’åºè¿›è¡Œæ’åº--ä»å°åˆ°å¤§--æ— å‚æ•°æ„é€ 
  TreeSet(Comparator comparator):æ ¹æ®æŒ‡å®šçš„æ¯”è¾ƒå™¨è¿›è¡Œæ’åº---å¸¦å‚æ•°æ„é€ 

  æ— ç´¢å¼•--ä¸èƒ½ç”¨for iå¾ªç¯--è€Œæ˜¯ç”¨for eachå’Œè¿­ä»£å™¨å¾ªç¯
  ç”±äºæ˜¯Seté›†åˆ--ä¸åŒ…å«é‡å¤å…ƒç´ 


åˆ›å»ºé›†åˆå¯¹è±¡
//<>é‡Œé¢è¦çš„æ˜¯å¼•ç”¨ç±»å‹ï¼Œè€Œä¸æ˜¯åŸºæœ¬ç±»å‹ï¼Œæ‰€ä»¥æ˜¯Integerï¼Œä¸æ˜¯int
  TreeSet<Integer> ts = new TreeSet<Integer>();

TreeSeté›†åˆç»ƒä¹ 
 å­˜å‚¨æ•´æ•°å¹¶éå†

@Override compareTo()æ–¹æ³•--return 0 --è¡¨ç¤ºä¸¤è€…æ˜¯ç›¸åŒå…ƒç´ 
                        --return 1ï¼ˆæ­£æ•°ï¼‰ --æŒ‰ç…§æ·»åŠ å…ƒç´ çš„é¡ºåº è¾“å‡ºçš„ï¼ˆå‡åºï¼‰
                        --return -1ï¼ˆè´Ÿæ•°ï¼‰--æŒ‰ç…§æ·»åŠ å…ƒç´ çš„é¡ºåº å€’ç€è¾“å‡ºçš„ï¼ˆé™åºï¼‰
--------------------------------
è‡ªç„¶æ’åºComparableä½¿ç”¨
å­˜å‚¨å¯¹è±¡å¹¶éå†ï¼Œåˆ›å»ºTreeSeté›†åˆä½¿ç”¨**æ— å‚æ„é€ æ–¹æ³•**
è¦æ±‚ï¼šæŒ‰ç…§å¹´é¾„ä»å°åˆ°å¤§æ’åº
     å¹´é¾„ç›¸åŒæ—¶å€™ï¼ŒæŒ‰ç…§å§“åçš„å­—æ¯æ’åº

ç”¨TreeSeté›†åˆå­˜å‚¨è‡ªå®šä¹‰å¯¹è±¡ï¼Œæ— å‚æ„é€ æ–¹æ³•ä½¿ç”¨çš„æ˜¯è‡ªç„¶æ’åºå¯¹å…ƒç´ è¿›è¡Œæ’åº
è‡ªç„¶æ’åº---è®©å…ƒç´ æ‰€å±ç±»implements Comparableæ¥å£ï¼Œé‡å†™compareTo()æ–¹æ³• ğŸŒŸä¸åŒç‚¹ğŸŒŸ
overrideæ—¶å€™ï¼Œâš ï¸è¦æ±‚çš„ä¸»è¦æ¡ä»¶å’Œæ¬¡è¦æ¡ä»¶
ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½
æ¯”è¾ƒå™¨æ’åºComparatorçš„ä½¿ç”¨
å­˜å‚¨å¯¹è±¡å¹¶éå†ï¼Œåˆ›å»ºTreeSeté›†åˆä½¿ç”¨**å¸¦å‚æ„é€ æ–¹æ³•**
è¦æ±‚ï¼šæŒ‰ç…§å¹´é¾„ä»å°åˆ°å¤§æ’åº
     å¹´é¾„ç›¸åŒæ—¶å€™ï¼ŒæŒ‰ç…§å§“åçš„å­—æ¯æ’åº

ç»“è®ºï¼š
ç”¨TreeSeté›†åˆå­˜å‚¨è‡ªå®šä¹‰å¯¹è±¡ï¼Œå¸¦å‚æ„é€ æ–¹æ³•ä½¿ç”¨çš„æ˜¯æ¯”è¾ƒå™¨æ’åºå¯¹å…ƒç´ è¿›è¡Œæ’åº
æ¯”è¾ƒå™¨æ’åºï¼Œå°±æ˜¯è®©é›†åˆæ„é€ æ–¹æ³•æ¥æ”¶Comparatorçš„å®ç°ç±»å¯¹è±¡ï¼Œé‡å†™compare(x1,x2)æ–¹æ³• ğŸŒŸä¸åŒç‚¹ğŸŒŸ
overrideæ—¶å€™ï¼Œâš ï¸è¦æ±‚çš„ä¸»è¦æ¡ä»¶å’Œæ¬¡è¦æ¡ä»¶

this.age-s.age  ä»å°åˆ°å¤§æ’åº
s.age-this.age  ä»å¤§åˆ°å°æ’åº
this -- o1 ; s--o2
ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½
ä¸ºäº†ä¸æ··æ·†--ä¸€ä¸ªé‡‡ç”¨Actressç±»ï¼Œä¸€ä¸ªé‡‡ç”¨Customerç±»
ä¸€ä¸ªåœ¨Actressç±»ä¸Šå®ç°implements Compareæ¥å£ï¼Œæ¥ç€override Compareto()
ä¸€ä¸ªæ˜¯TreeSetæ–¹æ³•ä¸­ä¼ é€’ä¸€ä¸ªæ¯”è¾ƒå™¨Comparatoræ¥å£
ä¸¤è€…çš„è§„åˆ™å®šä¹‰ä¸€æ ·
ğŸŒŸğŸŒŸğŸŒŸ
ä¸»è¦æ¡ä»¶ é¢˜ç›®ç»™å‡º
æ¬¡è¦æ¡ä»¶ è‡ªå·±åˆ†æå‡ºæ¥

çŸ¥è¯†å›é¡¾ğŸŒŸ
ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½
åŒ¿åç±»(anonymous classes)
æ˜¯å±€éƒ¨å†…éƒ¨ç±»ä¸€ç§
å‰æï¼šå­˜åœ¨ä¸€ä¸ªç±»æˆ–è€…æ¥å£ï¼Œè¿™é‡Œçš„ç±»å¯ä»¥æ˜¯å…·ä½“ç±»æˆ–è€…æŠ½è±¡ç±»

æœ¬è´¨æ˜¯ï¼šä¸€ä¸ªç»§æ‰¿è¯¥ç±»æˆ–è€…å®ç°è¯¥æ¥å£çš„å­ç±»åŒ¿åå¯¹è±¡

æ ¼å¼ï¼š
    new ç±»/æ¥å£(){
      é‡å†™æ–¹æ³•;
    }ï¼›

èŒƒä¾‹ï¼š
    new Inter(){
       public void show(){

        }
    }

ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½
ä¸‰å…ƒè¿ç®—ç¬¦ï¼š æ ¼å¼ï¼šå…³ç³»è¡¨è¾¾å¼ï¼Ÿè¡¨è¾¾å¼1ï¼šè¡¨è¾¾å¼2
    èŒƒä¾‹ï¼š a>b ? a:b
    é¦–å…ˆè®¡ç®—å…³ç³»è¡¨è¾¾å¼çš„å€¼
    å¦‚æœå€¼ä¸ºtrueï¼Œè¿ç®—ç»“æœå°±æ˜¯è¡¨è¾¾å¼1ï¼›
    å¦‚æœå€¼ä¸ºfalseï¼Œè¿ç®—ç»“æœå°±æ˜¯è¡¨è¾¾å¼2ï¼›